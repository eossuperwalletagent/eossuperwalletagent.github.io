webpackJsonp([6],{1669:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){return{mainapp:e.mainapp,regagent:e.regagent}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(26),l=n(r),u=a(1),d=n(u),c=a(6),i=n(c),s=a(2),f=n(s),p=a(3),g=n(p),m=a(0),_=n(m),h=a(5),v=(n(h),a(34)),y=a(20),E=n(y),k=a(177),b=a(1696),C=a(1682),M=(n(C),function(e){function t(){var e,a,n,o;(0,d.default)(this,t);for(var r=arguments.length,u=Array(r),c=0;c<r;c++)u[c]=arguments[c];return a=n=(0,f.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(u))),n.loadagenter=function(){(0,n.props.dispatch)({type:"regagent/query",payload:{}})},o=a,(0,f.default)(n,o)}return(0,g.default)(t,e),(0,i.default)(t,[{key:"componentWillMount",value:function(){this.loadagenter()}},{key:"componentWillUnMount",value:function(){this.props.dispatch({type:"regagent/setdata",payload:{}})}},{key:"render",value:function(){var e=this.props,t=e.mainapp,a=e.regagent,n=e.dispatch,o=a.myitems,r=a.regloading,l=a.loading,u={dispatch:n,mainapp:t,myitems:o,regloading:r,loading:l,loadagenter:this.loadagenter};return _.default.createElement(k.MyWalletToolsPageHeaderLayout,{title:E.default.get("comm.regagent")},_.default.createElement(b.RegAgent,u))}}]),t}(m.PureComponent));t.default=(0,v.connect)(o)(M),e.exports=t.default},1679:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScatterEosClient=void 0;var n=a(333),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.getScatterEosClient=function(e,t){var a={protocol:t.endpoint.protocol,blockchain:t.network.network,host:t.endpoint.url,port:t.endpoint.port,chainId:t.network.chainId},n={broadcast:!0,sign:!0,chainId:t.network.chainId},r=t.endpoint.protocol;return e.eos(a,o.default,n,r)}},1682:function(e,t){e.exports={TableItems:"TableItems___1fXIc",headerList:"headerList___1dUap",tabsCard:"tabsCard___3eGsM",noData:"noData___1DmJY",heading:"heading___L6isn",stepDescription:"stepDescription___3Sz1t",textSecondary:"textSecondary___37CrA"}},1696:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegAgent=void 0;var n=a(1697),o=function(e){return e&&e.__esModule?e:{default:e}}(n);t.RegAgent=o.default},1697:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(82),r=n(o),l=a(229),u=n(l),d=a(46),c=n(d),i=a(11),s=n(i),f=a(92),p=n(f),g=a(336),m=n(g),_=a(331),h=n(_),v=a(26),y=n(v),E=a(1),k=n(E),b=a(6),C=n(b),M=a(2),x=n(M),A=a(3),I=n(A),O=a(112),w=n(O),S=a(113),P=n(S),D=a(332),T=n(D);a(89),a(337),a(70),a(33),a(141),a(717),a(228),a(138),a(715);var L=a(0),R=n(L),j=a(5),H=(n(j),a(21),a(20)),W=n(H),z=a(330),F=a(1679),J=a(90),U=a(1682),q=(n(U),T.default.Item,P.default.TextArea,w.default.Option,function(e){function t(){var e,a,n,o;(0,k.default)(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return a=n=(0,x.default)(this,(e=t.__proto__||(0,y.default)(t)).call.apply(e,[this].concat(l))),n.formLayout={labelCol:{span:7},wrapperCol:{span:13}},n.setloadstatus=function(e){(0,n.props.dispatch)({type:"regagent/updatedata",payload:{regloading:e}})},n.OnHandleReagent=function(){var e=n.props,t=e.mainapp,a=e.dispatch,o=e.loadagenter,r=t.scatter,l=t.activeNetwork,u=t.eosAccount,d=t.eosAuthority;if(!t||!u)return void(0,z.msgError)("\u4f60\u7684eos\u8d26\u53f7\u8fd8\u6ca1\u6709\u767b\u5f55");var c=(0,F.getScatterEosClient)(r,l),i={authorization:[u+"@"+d]};console.log("create account eosClient:",c),console.log("create account permissionoptions:",i),n.setloadstatus(!0),c.contract(J.contractname).then(function(e){e.regagent({agenter:u},i).then(function(e){n.setloadstatus(!1),o(),(0,z.msgSuccess)(e.transaction_id)},function(e){a.setloadstatus(!1),(0,z.msgError)((0,h.default)(e))})})},n.Ononeactionfun=function(){var e=n.props.mainapp,t=e.eosAccount;return e&&t?""==t?void(0,z.msgError)("\u4f60\u7684eos\u8d26\u53f7\u8fd8\u6ca1\u6709\u767b\u5f55"):t==J.contractname||J.adminname.includes(t)?void(0,z.msgError)(t+" \u4f60\u7684eos\u8d26\u53f7(\u7ba1\u7406\u5458)\u4e0d\u80fd\u7533\u8bf7"):void m.default.confirm({title:W.default.get("comm.yesno"),content:t+W.default.get("comm.regyesno"),okText:W.default.get("comm.ok"),cancelText:W.default.get("comm.cancel"),onOk:function(){return n.OnHandleReagent()}}):void(0,z.msgError)("\u4f60\u7684eos\u8d26\u53f7\u8fd8\u6ca1\u6709\u767b\u5f55")},o=a,(0,x.default)(n,o)}return(0,I.default)(t,e),(0,C.default)(t,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.mainapp,e.myitems),a=e.regloading,n=e.loading,o=(e.form.getFieldDecorator,[{title:W.default.get("comm.agent"),dataIndex:"agenter",render:function(e,t){return R.default.createElement(L.Fragment,null,R.default.createElement("span",null,e))}},{title:W.default.get("comm.level"),dataIndex:"agentflag",render:function(e,t){return R.default.createElement("span",null,1==e?R.default.createElement(p.default,{color:"red"},"1"):R.default.createElement(p.default,{color:"blue"},"2"))}},{title:W.default.get("comm.status"),render:function(e,t){return R.default.createElement("span",null,1==t.isaccepted?R.default.createElement(p.default,{color:"blue"},W.default.get("comm.appoved")):R.default.createElement(p.default,{color:"red"},W.default.get("comm.appoveing")))}}]);return R.default.createElement(r.default,{title:t&&t.length>0?R.default.createElement("div",null):R.default.createElement("div",null,R.default.createElement(s.default,{type:"plus-circle-o"})," ",R.default.createElement(c.default,{type:"primary",loading:a,onClick:this.Ononeactionfun},W.default.get("comm.regagent")))},R.default.createElement(u.default,{rowKey:function(e){return e.agenter},loading:n,pagination:!1,scroll:{x:767},columns:o,dataSource:t}))}}]),t}(L.PureComponent));t.default=T.default.create()(q),e.exports=t.default}});